<!DOCTYPE html>

<script src="../dist/hello-type.js"></script>
<script>
const { Dict, List, Tuple, Enum, Type, HelloType } = window.HelloType
const ColorType = Enum('red', 'blue', 'yellow')
const BookType = Dict({
  name: String,
  price: Number,
  color: ColorType,
})
const BooksType = List(BookType)
const BooksetType = Tuple(BooksType, ColorType)

function bookset(books, color) {
  HelloType.expect(books, color).typeof(BooksetType)

  return books.filter(item => item.color === color)
}

let books = [
  {
    name: 'Hamlet',
    price: 192.1,
    color: 'blue',
  },
  {
    name: 'Les Trois Mousquetaires',
    price: 110.23,
    color: 'red',
  }
]
let set = bookset(books, 'red')
console.log(set)
</script>